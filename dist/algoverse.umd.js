!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e((t="undefined"!=typeof globalThis?globalThis:t||self).AlgoVerse={})}(this,(function(t){"use strict";const e=d3.select("#visualizer-svg"),r=60,a=.8*screen.height;function s(t,r){e.attr("width",Math.max(t,500)).attr("height",Math.max(r,window.innerHeight))}function i(t){e.selectAll("*").remove();const r=80*t.length+50;e.attr("width",Math.max(r,500)).attr("height",250);for(let r=0;r<t.length;r++){const a=50+80*r;e.append("rect").attr("x",a).attr("y",100).attr("width",50).attr("height",50).style("fill","lightblue").style("stroke","black"),e.append("text").attr("x",a+25).attr("y",130).attr("text-anchor","middle").text(t[r]),r<t.length-1&&(e.append("line").attr("x1",a+50).attr("y1",125).attr("x2",a+80).attr("y2",125).attr("stroke","black").attr("stroke-width",2).attr("marker-end","url(#arrow)"),e.append("defs").append("marker").attr("id","arrow").attr("viewBox","0 0 10 10").attr("refX",8).attr("refY",5).attr("markerWidth",6).attr("markerHeight",6).attr("orient","auto-start-reverse").append("path").attr("d","M 0 0 L 10 5 L 0 10 z").style("fill","black"))}}function h(t){e.selectAll("*").remove(),s(200,Math.max(a+50,t.length*r+50,window.innerHeight));const i=e.selectAll("g").data(t,((t,e)=>e)).enter().append("g");i.append("rect").attr("width",80).attr("height",r).attr("x",60).attr("y",((t,e)=>a-e*r)).attr("class","box"),i.append("text").attr("x",100).attr("y",((t,e)=>a-e*r+30)).attr("class","text").text((t=>t))}function n(t){e.selectAll("*").remove(),s(t.length*r,100);const a=e.selectAll("g").data(t,((t,e)=>e)).enter().append("g");a.append("rect").attr("width",r).attr("height",50).attr("x",((t,e)=>e*r)).attr("y",30).attr("class","box"),a.append("text").attr("x",((t,e)=>e*r+30)).attr("y",60).attr("class","text").text((t=>t))}function l(t){if(0===t.length)return;const r=d3.hierarchy(function(t){if(0===t.length)return null;let e=t.map(((t,e)=>({id:t,index:e,children:[]})));for(let t=0;t<e.length;t++){let r=2*t+1,a=2*t+2;r<e.length&&e[t].children.push(e[r]),a<e.length&&e[t].children.push(e[a])}return e[0]}(t));d3.tree().size([600,300])(r),s(700,400),e.selectAll("*").remove(),e.selectAll("line").data(r.links()).enter().append("line").attr("x1",(t=>t.source.x+100)).attr("y1",(t=>t.source.y+50)).attr("x2",(t=>t.target.x+100)).attr("y2",(t=>t.target.y+50)).attr("class","link"),e.selectAll("circle").data(r.descendants()).enter().append("circle").attr("cx",(t=>t.x+100)).attr("cy",(t=>t.y+50)).attr("r",20).attr("class","node"),e.selectAll("text").data(r.descendants()).enter().append("text").attr("x",(t=>t.x+100)).attr("y",(t=>t.y+55)).attr("class","text").text((t=>t.data.id))}function o(t){if(!t||0===t.nodes.length||0===t.links.length)return;s(800,500),e.selectAll("*").remove();const r=t.nodes,a=t.links.map((t=>({source:r.find((e=>e.id===t.source)),target:r.find((e=>e.id===t.target)),weight:t.weight}))),i=d3.forceSimulation(r).force("link",d3.forceLink(a).id((t=>t.id)).distance(100)).force("charge",d3.forceManyBody().strength(-200)).force("center",d3.forceCenter(400,250)),h=e.selectAll(".link").data(a).enter().append("line").attr("class","link").attr("stroke","#999").attr("stroke-width",2),n=e.selectAll(".node").data(r).enter().append("circle").attr("class","node").attr("r",20).attr("fill","#69b3a2").call(d3.drag().on("start",(function(t,e){t.active||i.alphaTarget(.3).restart();e.fx=e.x,e.fy=e.y})).on("drag",(function(t,e){e.fx=t.x,e.fy=t.y})).on("end",(function(t,e){t.active||i.alphaTarget(0);e.fx=null,e.fy=null}))),l=e.selectAll(".text").data(r).enter().append("text").attr("class","text").attr("text-anchor","middle").attr("dy",5).text((t=>t.id)),o=e.selectAll(".weight").data(a).enter().append("text").attr("class","weight").attr("text-anchor","middle").attr("fill","red").attr("font-size","17px").text((t=>t.weight));i.on("tick",(()=>{h.attr("x1",(t=>t.source.x)).attr("y1",(t=>t.source.y)).attr("x2",(t=>t.target.x)).attr("y2",(t=>t.target.y)),n.attr("cx",(t=>t.x)).attr("cy",(t=>t.y)),l.attr("x",(t=>t.x)).attr("y",(t=>t.y)),o.attr("x",(t=>(t.source.x+t.target.x)/2)).attr("y",(t=>(t.source.y+t.target.y)/2))}))}class c{data;next;constructor(t){this.data=t,this.next=null}}class d{#t;#e;#r;constructor(){this.#t=null,this.#e=null,this.#r=0}push(t){const e=new c(t);return null===this.#t?this.#t=this.#e=e:(this.#e.next=e,this.#e=e),this.#r++,this.#e}shift(t){const e=new c(t);return e.next=this.#t,this.#t=e,this.#e||(this.#e=e),this.#r++,this.#t}pop(){if(null!==this.#e){if(this.#t===this.#e)this.#t=this.#e=null;else{let t=this.#t;for(;t.next!=this.#e;)t=t.next;this.#e=t,this.#e.next=null}return this.#r--,this.#e}}unshift(){if(null===this.#t)return;const t=this.#t;return this.#t=this.#t.next,this.#t||(this.#e=null),t.next=null,this.#r--,this.#t}show(){i(this.giveAsArray())}giveAsArray(){const t=new Array;let e=this.#t;for(;null!=e;)t.push(e.data),e=e.next;return t}size(){return this.#r}frontElement(){return this.#t.data}backElement(){return this.#e.data}}class p{#r;#a;#s;constructor(){const t=new d;this.#a=null,this.#s=null,this.#r=0,this.push=e=>{this.#r++,this.#s=t.push(e),this.#a||(this.#a=this.#s)},this.pop=()=>{this.#r--,this.#a=t.unshift(),this.#a||(this.#s=this.#a)},this.giveAsArray=()=>t.giveAsArray()}topElement(){return this.#a.data}bottomElement(){return this.#s.data}show(){n(this.giveAsArray())}size(){return this.#r}}class g{source;target;weight;constructor(t,e,r=1){this.source=t+"",this.target=e+"",this.weight=r}}t.Graph=class{graph;constructor(t){this.graph={};const e={};t.forEach((t=>{e[t[0]]||(e[t[0]]=[]),e[t[0]].push(new g(t[0],t[1],t[2]??1))})),this.graph=e}getNodes(){return Object.keys(this.graph)}getEdges(){const t=this.graph;let e=[];return this.getNodes().forEach((r=>{e=[...e,...t[r]]})),e}DFS(t){if(!(t in this.graph))return;const e={},r=this.graph;!function t(a){e[a]=!0,console.log(a);for(const s of r[a])e[s.target]||t(s.target);e[a]=!1}(t)}BFS(t){if(!(t in this.graph))return;const e=new p,r={};for(e.push(t),r[t]=!0;e.size()>0;){const t=e.top();console.log(t);for(const a of this.graph[t])r[a.target]||(e.push(a.target),r[a.target]=!0);e.pop()}}show(){o({nodes:this.getNodes().map(((t,e)=>({id:t,index:e}))),links:this.getEdges()})}},t.LinkedList=d,t.ListNode=c,t.PriorityQueue=class{#i;#r;isMinHeap;constructor(t=!0){this.#i=new Array,this.#r=0,this.isMinHeap=t}#h(t,e){const r=this.#i[t];this.#i[t]=this.#i[e],this.#i[e]=r}#n(t){if(t<=0)return;const e=Math.floor((t-1)/2),r=this.isMinHeap&&this.#i[t]<this.#i[e],a=!this.isMinHeap&&this.#i[t]>this.#i[e];(r||a)&&(this.#h(t,e),this.#n(e))}topElement(){if(this.#r>0)return this.#i[0]}size(){return this.#r}push(t){this.#r>=this.#i.length?this.#i.push(t):this.#i[this.#r]=t,this.#n(this.#r),this.#r++}pop(){const t=(e=0)=>{if(e>=this.#r)return;const r=2*e+1,a=2*e+2;if(r>=this.#r)return this.#r--,void(this.#i[e]=this.#i[this.#r]);const s=this.#i[r],i=a<this.#r?this.#i[a]:null,h=i&&(s>i?s:i)||s,n=i&&(s<i?s:i)||s;this.#i[e]=this.isMinHeap?n:h,this.#i[e]===s?t(r):t(a)};t()}show(){l(this.#i)}},t.Queue=p,t.Stack=class{#l;#i;constructor(t=0){this.#l=-1,this.#i=new Array(t)}size(){return this.#l+1}push(t){this.#l++,this.#i.length<=this.#l?this.#i.push(t):this.#i[this.#l]=t}pop(){if(-1!==this.#l){const t=this.#i[this.#l];return this.#i[this.#l--]=null,t}}topElement(){if(this.#l<this.#i.length)return this.#i[this.#l]}show(){h(this.#i)}},t.drawGraph=o,t.drawLinkedList=i,t.drawQueue=n,t.drawStack=h,t.drawTree=l}));
